(()=>{var a=new URL(window.location.href),n=e=>new URL(e,a.origin),l=(e,r)=>n(e).searchParams.has(r),h=(e,r)=>n(e).searchParams.get(r);var i=(e,r=[])=>{let t=n(e);return r.forEach(([o,c])=>{t.searchParams.set(o,c)}),t},y=(e,r=[])=>{let t=n(e);return[...typeof r=="string"?[r]:r].forEach(o=>{t.searchParams.delete(o)}),t};var k="/sales/shop/dealPay/id/",p="paymentValue",s="recode-custom-pay",P="recode-hide-partial-block",u=3e3,S={yes:!0,no:!1},f=a.pathname.includes(k);var B=(e,r)=>{window.history.pushState({},"",y(e,r).href)},m=B;var v=e=>{(l(document.referrer,e)||l(a,e))&&document.querySelectorAll(".xdget-partialpay .btn").forEach(t=>t.classList.add("hide"))},g=v;var F=e=>{e&&(window.history.pushState({},"",i(a,[[s,e]]).href),setTimeout(()=>{m(a)},u))},w=F;var V=e=>[...e.closest(".custom-pay").classList].find(c=>c.startsWith("custom-pay-value")).match(/\d+/)[0],C=V;var O=e=>{let o=document.querySelector(e)?.closest("form")?.querySelector(".custom-pay label.selected");if(!o)return;let c=C(o);window.history.pushState({},"",i(a,[[s,c]]).href),setTimeout(()=>{m(a,s)},u)},x=O;var H=(e,r,t)=>{if(!document.referrer)return;let o=h(document.referrer,e);if(!o)return;let c=a;c.searchParams.set(p,o),r&&(c.searchParams.set(t,""),window.history.pushState({},"",c.href)),window.location.href=c.href},U=H;var L={needHidePartialPayBlock:!0,defaultTextForCustomPay:"\u041F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430"},d=L;var E=e=>({needHidePartialPayBlock:S[e?.needHidePartialPayBlock]||d.needHidePartialPayBlock,defaultTextForCustomPay:e?.defaultTextForCustomPay||d.defaultTextForCustomPay}),T=E;window.recode={...window.recode||{},gcCustomPay:{init(e={}){if(this.config)throw new Error("RE-CODE STUDIO. \u041F\u043B\u0430\u0433\u0438\u043D gcCustomPay. \u041F\u043E\u0432\u0442\u043E\u0440\u043D\u0430\u044F \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F \u0444\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u0430 \u043D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u0430");this.config=T(e),f&&(U(s,this.config.needHidePartialPayBlock,P),g(P)),f||m(a.href,s)},oneOffer:w,manyOffers:x}};})();
